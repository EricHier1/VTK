pipeline {
    agent none
    stages {
        stage('Find the IPV4 address!') {
            agent {
               docker {
                image 'ubuntu:fullubuntu'
                }
            }
            steps {
                echo 'This is what is in the hosts file'
                sh 'cat /etc/hosts'
                script {
                    def myfile=readFile file:"/etc/hosts"
                    def mylines=myfile.readLines()
                    for (line in mylines){
                        if(line.indexOf('.') != -1){
                            final ipv4addr = line.substring(0, line.indexOf('\t'))  // step through line until tab found
                            echo 'Found the following IPV4 address: ' + ipv4addr
                            echo 'Split each octet into a separate line:'
                            String octet = ipv4addr;
                            String[] str;
                            str = octet.split(/[.]/);
                            for( String values : str ){
                              println(values);  
                            }
                        }
                    }
                }
            }
        } //end stage Ubuntu with Libraries
    }
}